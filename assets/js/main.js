console.log("This site was generated by Hugo.");

const toast = (msg, timeout) => {
  var toast = document.createElement("div");

  toast.classList.add("toast");
  toast.classList.add("fade");
  toast.innerText = msg;

  $(document).find("body").append(toast);
  setTimeout(() => {
    $(toast).remove();
    toast.classList.add("hidden");
    console.log("remove toast");
  }, timeout);

  toast.classList.add("show");
};

const selectAll = (el) => {
  var range = document.createRange();
  var sel = window.getSelection();

  range.selectNodeContents(el.currentTarget);
  sel.removeAllRanges();
  sel.addRange(range);

  document.execCommand("copy", null, "");
  console.log("copied");

  // pop a toasts
  toast("Copied to clipboard", 1800);
};

$(window).on("load", () => {
  $("code").on("dblclick", selectAll);
});
