console.log("This site was generated by Hugo.");

const toast = (msg, timeout) => {
  var toast = document.createElement("div");

  toast.classList.add("toast");
  toast.innerText = msg;

  $(document).find("body").append(toast);
  setTimeout(() => {
    $(toast).remove();
    toast.classList.add("hidden");
    console.log("remove toast");
  }, timeout);

  toast.classList.add("show");
};

const selectAll = (el) => {
  if (window.getSelection && document.createRange) {
    var dom = el.target;
    var sel = window.getSelection();
    var range = document.createRange();

    range.setStart(dom, 0);
    range.setEnd(dom, 1);

    sel.removeAllRanges();
    sel.addRange(range);
  } else if (document.selection && document.body.createTextRange) {
    var textRange = document.body.createTextRange();

    textRange.moveToElementText(el);
    textRange.select();
  }

  document.execCommand("copy", null, "");
  console.log("copied");

  // pop a toasts
  toast("Copied to clipboard", 1500);
};

$(window).on("load", () => {
  $("code").on("dblclick", selectAll);
});
